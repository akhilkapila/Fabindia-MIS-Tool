# Fabindia MIS Tool

A comprehensive web-based Management Information System tool for Fabindia's financial data processing, featuring automated Excel formatting, user management, and detailed error logging capabilities.

## Table of Contents

- [ğŸš€ Features](#-features)
- [ğŸ› ï¸ Installation & Setup](#ï¸-installation--setup)
- [ï¿½ Deployment](#-deployment)
- [ï¿½ğŸ“‹ Usage](#-usage)
- [ğŸ“ Project Structure](#-project-structure)
- [ğŸ”§ Configuration](#-configuration)
- [ğŸ§ª Testing](#-testing)
- [ğŸ“š Documentation](#-documentation)
- [ğŸ› Troubleshooting](#-troubleshooting)
- [ğŸ¤ Contributing](#-contributing)
- [ğŸ“„ License](#-license)
- [ğŸ“ Support](#-support)

## ğŸš€ Features

### Core Processing Modules
- **Sales Processing**: Upload and format MIS working files with automatic date formatting (DD-MM-YYYY)
- **Advances Processing**: Handle advance-related data with specialized formatting
- **Banking/Collection Processing**: Process bank transactions with log generation
- **Combine & Final MIS**: Two-step process for multi-store data consolidation and reconciliation

### User Management & Security
- User authentication and authorization
- Admin panel for user management
- Role-based access control
- Secure password hashing

### Error Logging & Monitoring
- Real-time error detection and display
- Process log viewer with troubleshooting tips
- User-friendly error notifications in all tabs
- Detailed process tracking and timestamps

### File Support
- CSV, XLS, XLSX, XLSM, XLSB formats
- Automatic output formatting (dates, numbers, highlighting)
- Batch processing capabilities

## ğŸ› ï¸ Installation & Setup

### Prerequisites
- Python 3.8+
- Virtual environment (recommended)

### Installation Steps

1. **Clone or download the project**
   ```bash
   cd "path/to/project"
   ```

2. **Create virtual environment**
   ```bash
   python -m venv .venv
   ```

3. **Activate virtual environment**
   ```powershell
   .\venv\Scripts\activate  # Windows
   ```

4. **Install dependencies**
   ```bash
   pip install -r requirements.txt
   ```

5. **Initialize database**
   ```bash
   flask db upgrade
   ```

6. **Run the application**
   ```bash
   python app.py
   ```

## ğŸš€ Deployment

### Local Development
Follow the installation steps above to run locally.

### Cloud Deployment (Render)

1. **Connect to Render**
   - Sign up at [render.com](https://render.com)
   - Connect your GitHub repository

2. **Deploy Configuration**
   - Render will automatically detect the `render.yaml` file
   - Python version: 3.9.18 (specified in `runtime.txt`)
   - Web service will use gunicorn as the production server

3. **Environment Variables**
   - `FLASK_ENV`: Set to `production`
   - `SECRET_KEY`: Auto-generated by Render
   - `FLASK_DEBUG`: Set to `false`
   - `PORT`: Auto-set by Render

4. **Database Notes**
   - Uses SQLite (file-based database)
   - **Important**: Data will reset on each deployment
   - For persistent data, consider upgrading to a PostgreSQL database

5. **Access Your App**
   - Once deployed, Render will provide a URL (e.g., `https://your-app.onrender.com`)
   - Default login: `admin` / `admin`

### Manual Deployment (Alternative)

If you prefer manual setup:

1. **Install gunicorn**
   ```bash
   pip install gunicorn
   ```

2. **Run with gunicorn**
   ```bash
   gunicorn --bind 0.0.0.0:8000 app:app
   ```

3. **Set environment variables**
   ```bash
   export FLASK_ENV=production
   export FLASK_DEBUG=false
   ```

## ğŸ“‹ Usage

### Main Processing Workflows

1. **Sales Processing**
   - Upload MIS working file
   - Automatic formatting applied
   - Download processed Excel file

2. **Advances Processing**
   - Similar to sales processing
   - Separate data handling pipeline

3. **Banking Processing**
   - Upload bank transaction files
   - Generate processing logs

4. **Combine & Final MIS (Two-Step)**
   - **Step A**: Upload multiple store files â†’ Download combined file
   - **Step B**: Upload combined file + final MIS â†’ Download reconciled output

### Error Handling
- Check error summaries in each tab
- Click "ğŸ“‹ View Last Log" for detailed process logs
- Access troubleshooting tips for common issues

### Admin Features
- User management (add/edit/delete users)
- Database information viewing
- System monitoring

## ğŸ“ Project Structure

```
â”œâ”€â”€ app.py                 # Main Flask application
â”œâ”€â”€ requirements.txt       # Python dependencies
â”œâ”€â”€ migrations/           # Database migrations
â”œâ”€â”€ static/               # CSS, JS, assets
â”œâ”€â”€ templates/            # HTML templates
â”œâ”€â”€ temp_uploads/         # Temporary file storage
â”‚   â””â”€â”€ logs/            # Process logs
â”œâ”€â”€ tests/                # Test files
â””â”€â”€ *.md                  # Documentation files
```

## ğŸ”§ Configuration

### Database
- Uses SQLite by default
- Configurable via `app.config['SQLALCHEMY_DATABASE_URI']`

### Upload Settings
- Files stored in `temp_uploads/` directory
- Logs stored in `temp_uploads/logs/`

### Security
- Change `app.secret_key` in production
- Configure proper session management

## ğŸ§ª Testing

Run the test suite:
```bash
python -m pytest tests/
```

Available tests:
- File loading tests
- Import validation
- End-to-end processing tests
- Post-processing verification

## ğŸ“š Documentation

- [Quick Start Guide](QUICKSTART.md)
- [Error Logging Feature](README_ERROR_LOGGING.md)
- [User Guide](USER_GUIDE_ERROR_LOGS.md)
- [Technical Documentation](FEATURE_COMPLETE_SUMMARY.md)
- [Setup Verification](SETUP_VERIFICATION_REPORT.txt)

## ğŸ› Troubleshooting

### Common Issues

**Server won't start**
- Verify Flask installation: `pip list | grep Flask`
- Check Python version compatibility

**File upload fails**
- Ensure supported file format (CSV, XLS, XLSX, XLSM, XLSB)
- Check file corruption
- Verify column names match expected keywords

**Formatting not applied**
- Confirm `temp_uploads/` directory exists
- Ensure output is saved as .xlsx
- Check Excel cell formatting

**Database errors**
- Run `flask db upgrade` to apply migrations
- Check database file permissions

### Error Logs
- Access via "ğŸ“‹ View Last Log" button
- Check `temp_uploads/logs/` directory for raw logs
- Review troubleshooting tips in log viewer

## ğŸ¤ Contributing

1. Fork the repository
2. Create a feature branch
3. Make changes with proper testing
4. Submit a pull request

## ğŸ“„ License

This project is proprietary software for Fabindia internal use.

## ğŸ“ Support

For technical support:
- Check the error logs and troubleshooting guides
- Contact system administrator
- Review documentation in the `docs/` folder

---

**Version**: 1.0  
**Last Updated**: December 16, 2025  
**Status**: âœ… Production Ready</content>
<parameter name="filePath">c:\Users\Akhil\OneDrive\Desktop\Scripts\Fabindia MIS Tool\README.md